
## チェックボックス マクロ

## mvc:annotation-driven を指定した時に、
## オリジナルの checkFormboxes マクロの、$status.vaule では、デフォルト値を checked にできない不具合のワークアラウド

## 引数
## path : バインドするパス名 ( 文字列 )
## options : 表示する選択肢 ( Map )
## values : 選択された値 ( List )
## separator : 選択肢の区切り ( 文字列 )
## attributes : input 要素に追加で指定する属性

#macro( checkBoxes $path $options $values $separator $attributes )
    #springBind($path)
    #foreach($option in $options.keySet())
        <input type="checkbox" name="${status.expression}" value="${option}"
        #foreach($item in $values)
            #if($item == $option) checked="checked" #end
        #end
        ${attributes} #springCloseTag()
        ${options.get($option)} ${separator}
    #end
    <input type="hidden" name="_${status.expression}" value="on"/>
#end

#macro( showCheckboxes $options $values $separator $attributes )
    #foreach($option in $options.keySet())
        <input type="checkbox" name="${status.expression}" value="${option}"
        #foreach($item in $values)
            #if($item == $option) checked="checked" #end
        #end
         disabled="true"
        ${attributes} #springCloseTag()
        ${options.get($option)} ${separator}
    #end
#end
